import{renderElement}from"./html-factory.min.js";let idCounter=0;function filteredJoin(...e){return e.filter((e=>null!=e)).join(" ")}function makeField(e,t,r=renderElement){const{className:l,id:i="form-factory-"+idCounter++,postHelpText:n,preHelpText:a,required:o,title:d="Untitled"}=e,s=a?`${i}-pre-help-text`:null,c=n?`${i}-post-help-text`:null,m=s||c?filteredJoin(s,c):null;return console.log("REQUIRED",o),r("div",{class:filteredJoin("col-12 mb-3",l),id:`${i}-element`},[r("label",{for:i,class:"form-label",id:`${i}-label`},[d,o?null:[" ",r("span",{class:"form-text"},"(Optional)")]]),a?r("div",{class:"form-text mb-1 mt-0",id:s},a):null,t({ariaDescribedBy:m,id:i,title:d,...e},r),n?r("div",{class:"form-text",id:c},n):null])}function makeTextareaField(e,t=renderElement){return makeField(e,((e,t)=>{const{ariaDescribedBy:r,disabled:l,id:i,placeHolder:n,readOnly:a,required:o,rows:d}=e;return t("textarea",{disabled:l?"":null,placeholder:n,readonly:a?"":null,required:o?"":null,rows:d,class:"form-control",id:i,"aria-describedby":r})}),t)}function makeTextField(e,t=renderElement){return makeField(e,((e,t)=>{const{ariaDescribedBy:r,disabled:l,id:i,placeHolder:n,readOnly:a,required:o}=e;return t("input",{disabled:l?"":null,placeholder:n,readonly:a?"":null,required:o?"":null,type:"text",class:"form-control",id:i,"aria-describedby":r})}),t)}function makeRow(e,t=renderElement){const{className:r,factories:l,fields:i=[],id:n}=e,a=Object.assign({},defaultFactories,l);return t("div",{class:filteredJoin("row",r),id:n},i.map((e=>{const{type:r="text"}=e;return a[r]({factories:l,...e},t)})))}function makeSection(e,t=renderElement){const{className:r,factories:l,id:i="form-factory-"+idCounter++,rows:n=[],title:a}=e,o=Object.assign({},defaultFactories,l);return t("div",{class:filteredJoin("card mb-3",r),id:i},[a?t("h2",{class:"card-header h5",id:`${i}-heading`},a):null,t("div",{class:"card-body"},n.map((e=>{const{type:r="row"}=e;return o[r]({factories:l,...e},t)})))])}function makeForm(e,t=renderElement){const{className:r,factories:l,id:i="form-factory-"+idCounter++,title:n,sections:a=[]}=e,o=Object.assign({},defaultFactories,l);return t("form",{class:filteredJoin("mb-3",r),id:i},[n?t("h1",{id:`${i}-heading`},n):null,a.map((e=>{const{type:r="section"}=e;return o[r]({factories:l,...e},t)}))])}function factory(e,t=renderElement){const{factories:r,type:l="form"}=e;return Object.assign({},defaultFactories,r)[l]({factories:r,...e},t)}const defaultFactories={form:makeForm,row:makeRow,section:makeSection,text:makeTextField,textarea:makeTextareaField};export{factory};
//# sourceMappingURL=form-factory.min.js.map
