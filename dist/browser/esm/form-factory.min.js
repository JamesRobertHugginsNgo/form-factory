import{renderElement}from"./html-factory.min.js";let idCounter=0;function getNextId(){return"form-factory-"+idCounter++}function getFieldConfiguration(e,t){const{id:r,preHelpText:n,postHelpText:i,required:l,title:a}=e;return[{name:"label",attributes:{class:"form-label",for:r,id:`${r}-title`},children:[a,l?null:[" ",{name:"span",attributes:{class:"form-text"},children:["(Optional)"]}]]},n?{name:"div",attributes:{class:"form-text mb-1 mt-0",id:`${r}-prehelptext`},children:[n]}:null,t,i?{name:"div",attributes:{class:"form-text",id:`${r}-posthelptext`},children:[i]}:null]}const Factories={form:{render:(e,t=renderElement)=>{const{className:r,id:n,sections:i=[],title:l}=Object.assign(e,{id:e.id||getNextId()});return t({name:"form",attributes:{class:r,id:n},children:[l?{name:"h1",attributes:{id:`${n}-title`},children:[l]}:null,i.map((e=>{const{type:r="section"}=e;return Factories[r].render(e,t)})),{name:"div",children:[{name:"button",attributes:{class:"btn btn-primary",type:"button"},children:["Submit"]}]}],functionCallers:[{name:"Factories.form.initialize",args:[e]}]})},initialize:e=>{console.log("FORM",e)}},section:{render:(e,t=renderElement)=>{const{id:r,fields:n,title:i}=Object.assign(e,{id:e.id||getNextId(),fields:e.fields||[]});return t({name:"div",attributes:{class:"card mb-3",id:r},children:[i?{name:"h2",attributes:{class:"card-header h5",id:`${r}-title`},children:[i]}:null,{name:"div",attributes:{class:"card-body"},children:n.map((e=>{const{type:r}=Object.assign(e,{type:e.type||"text"});return Factories[r].render(e,t)}))}]})}},text:{render:(e,t=renderElement)=>{const{choices:r,disabled:n,id:i,placeHolder:l,preHelpText:a,postHelpText:d,readOnly:s,required:c}=Object.assign(e,{id:e.id||getNextId(),title:e.title||"Unlabled"});return t({name:"div",attributes:{class:"row"},children:[{name:"div",attributes:{class:"col mb-3"},children:getFieldConfiguration(e,[{name:"input",attributes:{class:"form-control",disabled:n?"":null,id:i,list:r?`${i}-list`:null,name:i,placeholder:l,readonly:s?"":null,required:c?"":null,type:"text","aria-describedby":[a,d].every((e=>null==e))?null:[a?`${i}-prehelptext`:null,d?`${i}-posthelptext`:null].filter((e=>null!=e)).join(" ")}},r?{name:"datalist",attributes:{id:`${i}-list`},children:r.map((e=>({name:"option",attributes:{value:e}})))}:null])}]})}},temp:{render:(e,t=renderElement)=>t({name:"div",children:[]})}};function render(e,t=renderElement){const{type:r="form"}=e;return Factories[r].render(e,t)}export{Factories,render};
//# sourceMappingURL=form-factory.min.js.map
