{"version":3,"file":"form-factory.min.js","sources":["form-factory.min.js"],"sourcesContent":["\"use strict\";\n\n/* global HtmlFactory */\nvar FormFactory = function () {\n  var _HtmlFactory = HtmlFactory,\n      renderElement = _HtmlFactory.renderElement;\n  var idCounter = 0;\n\n  function getNextId() {\n    return \"form-factory-\".concat(idCounter++);\n  }\n\n  function getFieldConfiguration(definition, inputConfiguration) {\n    var id = definition.id,\n        preHelpText = definition.preHelpText,\n        postHelpText = definition.postHelpText,\n        required = definition.required,\n        title = definition.title;\n    return [{\n      name: 'label',\n      attributes: {\n        \"class\": 'form-label',\n        \"for\": id,\n        id: \"\".concat(id, \"-title\")\n      },\n      children: [title, required ? null : [' ', {\n        name: 'span',\n        attributes: {\n          \"class\": 'form-text'\n        },\n        children: ['(Optional)']\n      }]]\n    }, !preHelpText ? null : {\n      name: 'div',\n      attributes: {\n        \"class\": 'form-text mb-1 mt-0',\n        id: \"\".concat(id, \"-prehelptext\")\n      },\n      children: [preHelpText]\n    }, inputConfiguration, !postHelpText ? null : {\n      name: 'div',\n      attributes: {\n        \"class\": 'form-text',\n        id: \"\".concat(id, \"-posthelptext\")\n      },\n      children: [postHelpText]\n    }];\n  }\n\n  var Factories = {\n    form: {\n      render: function render(definition) {\n        var renderEl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : renderElement;\n\n        var _Object$assign = Object.assign(definition, {\n          id: definition.id || getNextId()\n        }),\n            className = _Object$assign.className,\n            id = _Object$assign.id,\n            _Object$assign$sectio = _Object$assign.sections,\n            sections = _Object$assign$sectio === void 0 ? [] : _Object$assign$sectio,\n            title = _Object$assign.title;\n\n        return renderEl({\n          name: 'form',\n          attributes: {\n            \"class\": className,\n            id: id\n          },\n          children: [!title ? null : {\n            name: 'h1',\n            attributes: {\n              id: \"\".concat(id, \"-title\")\n            },\n            children: [title]\n          }, sections.map(function (section) {\n            var _section$type = section.type,\n                type = _section$type === void 0 ? 'section' : _section$type;\n            return Factories[type].render(section, renderEl);\n          }), {\n            name: 'div',\n            children: [{\n              name: 'button',\n              attributes: {\n                \"class\": 'btn btn-primary',\n                type: 'button'\n              },\n              children: ['Submit']\n            }]\n          }],\n          functionCallers: [{\n            name: 'Factories.form.initialize',\n            args: [definition]\n          }]\n        });\n      },\n      initialize: function initialize(definition) {\n        console.log('FORM', definition);\n      }\n    },\n    section: {\n      render: function render(definition) {\n        var renderEl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : renderElement;\n\n        var _Object$assign2 = Object.assign(definition, {\n          id: definition.id || getNextId(),\n          fields: definition.fields || []\n        }),\n            id = _Object$assign2.id,\n            fields = _Object$assign2.fields,\n            title = _Object$assign2.title;\n\n        return renderEl({\n          name: 'div',\n          attributes: {\n            \"class\": 'card mb-3',\n            id: id\n          },\n          children: [!title ? null : {\n            name: 'h2',\n            attributes: {\n              \"class\": 'card-header h5',\n              id: \"\".concat(id, \"-title\")\n            },\n            children: [title]\n          }, {\n            name: 'div',\n            attributes: {\n              \"class\": 'card-body'\n            },\n            children: fields.map(function (field) {\n              var _Object$assign3 = Object.assign(field, {\n                type: field.type || 'text'\n              }),\n                  type = _Object$assign3.type;\n\n              return Factories[type].render(field, renderEl);\n            })\n          }]\n        });\n      }\n    },\n    text: {\n      render: function render(definition) {\n        var renderEl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : renderElement;\n\n        var _Object$assign4 = Object.assign(definition, {\n          id: definition.id || getNextId(),\n          title: definition.title || 'Unlabled'\n        }),\n            choices = _Object$assign4.choices,\n            disabled = _Object$assign4.disabled,\n            id = _Object$assign4.id,\n            placeHolder = _Object$assign4.placeHolder,\n            preHelpText = _Object$assign4.preHelpText,\n            postHelpText = _Object$assign4.postHelpText,\n            readOnly = _Object$assign4.readOnly,\n            required = _Object$assign4.required;\n\n        return renderEl({\n          name: 'div',\n          attributes: {\n            \"class\": 'row'\n          },\n          children: [{\n            name: 'div',\n            attributes: {\n              \"class\": 'col mb-3'\n            },\n            children: getFieldConfiguration(definition, [{\n              name: 'input',\n              attributes: {\n                \"class\": 'form-control',\n                disabled: !disabled ? null : '',\n                id: id,\n                list: !choices ? null : \"\".concat(id, \"-list\"),\n                name: id,\n                placeholder: placeHolder,\n                readonly: !readOnly ? null : '',\n                required: !required ? null : '',\n                type: 'text',\n                'aria-describedby': [preHelpText, postHelpText].every(function (value) {\n                  return value == null;\n                }) ? null : [!preHelpText ? null : \"\".concat(id, \"-prehelptext\"), !postHelpText ? null : \"\".concat(id, \"-posthelptext\")].filter(function (value) {\n                  return value != null;\n                }).join(' ')\n              }\n            }, !choices ? null : {\n              name: 'datalist',\n              attributes: {\n                id: \"\".concat(id, \"-list\")\n              },\n              children: choices.map(function (choice) {\n                return {\n                  name: 'option',\n                  attributes: {\n                    value: choice\n                  }\n                };\n              })\n            }])\n          }]\n        });\n      }\n    },\n    temp: {\n      render: function render(definition) {\n        var renderEl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : renderElement;\n        return renderEl({\n          name: 'div',\n          children: []\n        });\n      }\n    }\n  };\n\n  function render(definition) {\n    var renderEl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : renderElement;\n    var _definition$type = definition.type,\n        type = _definition$type === void 0 ? 'form' : _definition$type;\n    return Factories[type].render(definition, renderEl);\n  }\n\n  return {\n    Factories: Factories,\n    render: render\n  };\n}();\n/* exported FormFactory */"],"names":["FormFactory","renderElement","HtmlFactory","idCounter","getNextId","concat","Factories","form","render","definition","renderEl","arguments","length","undefined","_Object$assign","Object","assign","id","className","_Object$assign$sectio","sections","title","name","attributes","class","children","map","section","_section$type","type","functionCallers","args","initialize","console","log","_Object$assign2","fields","field","text","_Object$assign4","choices","disabled","placeHolder","preHelpText","postHelpText","readOnly","required","inputConfiguration","list","placeholder","readonly","aria-describedby","every","value","filter","join","choice","for","temp","_definition$type"],"mappings":"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"}