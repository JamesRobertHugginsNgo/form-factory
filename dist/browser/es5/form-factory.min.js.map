{"version":3,"file":"form-factory.min.js","sources":["form-factory.min.js"],"sourcesContent":["\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* global HtmlFactory */\nvar FormFactory = function () {\n  var _HtmlFactory = HtmlFactory,\n      renderElement = _HtmlFactory.renderElement;\n  var idCounter = 0;\n\n  function filteredJoin() {\n    for (var _len = arguments.length, items = new Array(_len), _key = 0; _key < _len; _key++) {\n      items[_key] = arguments[_key];\n    }\n\n    return items.filter(function (item) {\n      return item != null;\n    }).join(' ');\n  } // -----------------------------------------------------------------------------\n\n\n  function makeField(definition, createInput) {\n    var render = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : renderElement;\n    var className = definition.className,\n        _definition$id = definition.id,\n        id = _definition$id === void 0 ? \"form-factory-\".concat(idCounter++) : _definition$id,\n        postHelpText = definition.postHelpText,\n        preHelpText = definition.preHelpText,\n        required = definition.required,\n        _definition$title = definition.title,\n        title = _definition$title === void 0 ? 'Untitled' : _definition$title;\n    var preHelpTextId = !preHelpText ? null : \"\".concat(id, \"-pre-help-text\");\n    var postHelpTextId = !postHelpText ? null : \"\".concat(id, \"-post-help-text\");\n    var ariaDescribedBy = !preHelpTextId && !postHelpTextId ? null : filteredJoin(preHelpTextId, postHelpTextId);\n    console.log('REQUIRED', required);\n    return render('div', {\n      \"class\": filteredJoin('col-12 mb-3', className),\n      id: \"\".concat(id, \"-element\")\n    }, [render('label', {\n      \"for\": id,\n      \"class\": 'form-label',\n      id: \"\".concat(id, \"-label\")\n    }, [title, required ? null : [' ', render('span', {\n      \"class\": 'form-text'\n    }, '(Optional)')]]), !preHelpText ? null : render('div', {\n      \"class\": 'form-text mb-1 mt-0',\n      id: preHelpTextId\n    }, preHelpText), createInput(_objectSpread({\n      ariaDescribedBy: ariaDescribedBy,\n      id: id,\n      title: title\n    }, definition), render), !postHelpText ? null : render('div', {\n      \"class\": 'form-text',\n      id: postHelpTextId\n    }, postHelpText)]);\n  } // -----------------------------------------------------------------------------\n\n\n  function makeTextareaField(definition) {\n    var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : renderElement;\n    return makeField(definition, function (definitionArg, renderArg) {\n      var ariaDescribedBy = definitionArg.ariaDescribedBy,\n          disabled = definitionArg.disabled,\n          id = definitionArg.id,\n          placeHolder = definitionArg.placeHolder,\n          readOnly = definitionArg.readOnly,\n          required = definitionArg.required,\n          rows = definitionArg.rows;\n      return renderArg('textarea', {\n        disabled: !disabled ? null : '',\n        placeholder: placeHolder,\n        readonly: !readOnly ? null : '',\n        required: !required ? null : '',\n        rows: rows,\n        \"class\": 'form-control',\n        id: id,\n        'aria-describedby': ariaDescribedBy\n      });\n    }, render);\n  } // -----------------------------------------------------------------------------\n\n\n  function makeTextField(definition) {\n    var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : renderElement;\n    return makeField(definition, function (definitionArg, renderArg) {\n      var ariaDescribedBy = definitionArg.ariaDescribedBy,\n          disabled = definitionArg.disabled,\n          id = definitionArg.id,\n          placeHolder = definitionArg.placeHolder,\n          readOnly = definitionArg.readOnly,\n          required = definitionArg.required;\n      return renderArg('input', {\n        disabled: !disabled ? null : '',\n        placeholder: placeHolder,\n        readonly: !readOnly ? null : '',\n        required: !required ? null : '',\n        type: 'text',\n        \"class\": 'form-control',\n        id: id,\n        'aria-describedby': ariaDescribedBy\n      });\n    }, render);\n  } // -----------------------------------------------------------------------------\n\n\n  function makeRow(definition) {\n    var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : renderElement;\n    var className = definition.className,\n        factories = definition.factories,\n        _definition$fields = definition.fields,\n        fields = _definition$fields === void 0 ? [] : _definition$fields,\n        id = definition.id;\n    var finalFactories = Object.assign({}, defaultFactories, factories);\n    return render('div', {\n      \"class\": filteredJoin('row', className),\n      id: id\n    }, fields.map(function (field) {\n      var _field$type = field.type,\n          type = _field$type === void 0 ? 'text' : _field$type;\n      return finalFactories[type](_objectSpread({\n        factories: factories\n      }, field), render);\n    }));\n  } // -----------------------------------------------------------------------------\n\n\n  function makeSection(definition) {\n    var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : renderElement;\n    var className = definition.className,\n        factories = definition.factories,\n        _definition$id2 = definition.id,\n        id = _definition$id2 === void 0 ? \"form-factory-\".concat(idCounter++) : _definition$id2,\n        _definition$rows = definition.rows,\n        rows = _definition$rows === void 0 ? [] : _definition$rows,\n        title = definition.title;\n    var finalFactories = Object.assign({}, defaultFactories, factories);\n    return render('div', {\n      \"class\": filteredJoin('card mb-3', className),\n      id: id\n    }, [!title ? null : render('h2', {\n      \"class\": 'card-header h5',\n      id: \"\".concat(id, \"-heading\")\n    }, title), render('div', {\n      \"class\": 'card-body'\n    }, rows.map(function (row) {\n      var _row$type = row.type,\n          type = _row$type === void 0 ? 'row' : _row$type;\n      return finalFactories[type](_objectSpread({\n        factories: factories\n      }, row), render);\n    }))]);\n  } // -----------------------------------------------------------------------------\n\n\n  function makeForm(definition) {\n    var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : renderElement;\n    var className = definition.className,\n        factories = definition.factories,\n        _definition$id3 = definition.id,\n        id = _definition$id3 === void 0 ? \"form-factory-\".concat(idCounter++) : _definition$id3,\n        title = definition.title,\n        _definition$sections = definition.sections,\n        sections = _definition$sections === void 0 ? [] : _definition$sections;\n    var finalFactories = Object.assign({}, defaultFactories, factories);\n    return render('form', {\n      \"class\": filteredJoin('mb-3', className),\n      id: id\n    }, [!title ? null : render('h1', {\n      id: \"\".concat(id, \"-heading\")\n    }, title), sections.map(function (section) {\n      var _section$type = section.type,\n          type = _section$type === void 0 ? 'section' : _section$type;\n      return finalFactories[type](_objectSpread({\n        factories: factories\n      }, section), render);\n    })]);\n  } // -----------------------------------------------------------------------------\n\n\n  function factory(definition) {\n    var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : renderElement;\n    var factories = definition.factories,\n        _definition$type = definition.type,\n        type = _definition$type === void 0 ? 'form' : _definition$type;\n    var finalFactories = Object.assign({}, defaultFactories, factories);\n    return finalFactories[type](_objectSpread({\n      factories: factories\n    }, definition), render);\n  } // -----------------------------------------------------------------------------\n\n\n  var defaultFactories = {\n    form: makeForm,\n    row: makeRow,\n    section: makeSection,\n    text: makeTextField,\n    textarea: makeTextareaField\n  };\n  return {\n    factory: factory\n  };\n}();\n/* exported FormFactory */"],"names":["ownKeys","object","enumerableOnly","symbols","keys","Object","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","FormFactory","renderElement","HtmlFactory","idCounter","filteredJoin","_len","items","Array","_key","item","join","makeField","definition","createInput","render","undefined","className","_definition$id","id","concat","postHelpText","preHelpText","required","_definition$title","title","preHelpTextId","postHelpTextId","ariaDescribedBy","console","log","class","for","defaultFactories","form","factories","_definition$id3","_definition$sections","sections","finalFactories","assign","map","section","_section$type","type","row","fields","_definition$fields","field","_field$type","_definition$id2","rows","_definition$rows","_row$type","text","definitionArg","renderArg","disabled","placeholder","placeHolder","readonly","readOnly","aria-describedby","textarea","factory","_definition$type"],"mappings":"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"}